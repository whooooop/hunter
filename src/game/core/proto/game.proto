syntax = "proto3";

package game;

// Базовые типы
message Point {
  float x = 1;
  float y = 2;
}

message JoinGame {
  string playerId = 2;
}

message PlayerJoined {
  string playerId = 1;
  bool isHost = 2;
}

message WeaponFireActionEvent {
  string playerId = 2; 
  string weaponId = 3;
  Point originPoint = 6;
  Point targetPoint = 7; 
  float angleTilt = 8;
}

message WaveStartEvent {
  int32 number = 1;
  int32 duration = 2;
}

message PlayerStateEvent {
  string playerId = 1;
  Point position = 2;
}

message SpawnEnemyEvent {
  string id = 1;
  string enemyType = 2;
  Point position = 3;
  // TODO: Добавить options
}

message EnemyDeathEvent {
  string id = 1;
}

message PlayerSetWeaponEvent {
  string playerId = 1;
  string weaponId = 2;
  string weaponType = 3;
}

message WeaponPurchasedEvent {
  string playerId = 1;
  string weaponType = 2;
  int32 price = 3;
}

message PlayerScoreUpdateEvent {
  string playerId = 1;
  int32 score = 2;
}
